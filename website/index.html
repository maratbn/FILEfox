<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html>
    <head>
        <style type='text/css'>
            .FILEfox_support {
                font-family:                    sans-serif;
                font-size:                      10pt;
                width:                          90%;
                margin:                         auto;
            }
            .FILEfox_support .disclaimer {
                width:                          80%;
            }
        </style>
        <title>Welcome to the FILEfox Firefox extension support website</title>
    </head>
    <body class='FILEfox_support'>
        <h1>Welcome to the FILEfox Firefox extension support website.</h1>
        <div class='tester'>
            <h3>Test FILEfox in your browser:</h3>
            <script type='text/javascript'>
                // <!--
                function doLoadFile() {
                    var observer =  {
                                        onLoadedTextFile: function(totalLines, arrLines) {
                                            var preOutput = document.getElementById('output');
                                            preOutput.innerHTML = "";

                                            var spanStatus = document.getElementById('status');
                                            spanStatus.innerHTML = "";

                                            var i = 0;

                                            (function() {
                                                for (var j = 0; j < 1000 && i < totalLines; i++, j++) {
                                                    preOutput.appendChild(document.createTextNode(arrLines[i]));
                                                }
                                                spanStatus.innerHTML = "Loaded " + i + " lines out of " + totalLines + "  " + ((i / totalLines) * 100).toFixed(2) + "%" + (i == totalLines && "  load complete" || "");
                                                if (i < totalLines) {
                                                    setTimeout(arguments.callee, 100);
                                                }
                                            })();
                                        }
                                    }
                    var success = nsFILEfox.requestASCIIFileToLoad(
                                                "This is the FILEfox demonstration website.  Specify an ASCII text file with test data to experience the file loading process via the FILEfox extension.",
                                                observer);
                    if (!success) {
                        alert("Demonstration website:  Could not get a file via the FILEfox Firefox extension.  The user has either canceled, there was an error in some part of the process, or the file was empty.");
                        return;
                    }
                }
                if (window.nsFILEfox) {
                    document.writeln("<p>");
                    document.writeln("You have the FILEfox extension installed and enabled.");
                    document.writeln("</p>");
                    document.writeln("<p>");
                    document.writeln("You can <a href='#' onClick='doLoadFile()'>test-load</a> an ASCII text file off your hard drive into the area below:");
                    document.writeln("</p>");
                    document.writeln("<p>");
                    document.writeln("<span id='status'></span>");
                    document.writeln("</p>");
                    document.writeln("<pre id='output' style='background-color:yellow;border:1px solid blue;min-height:50px;max-height:200px;overflow:auto;'></pre>");
                    document.writeln("<br>");
                } else {
                    document.writeln("You do NOT have the FILEfox extension installed, or it is explicitly disabled.");
                }
                
                // -->
            </script>
        </div>
        <div class='disclaimer'>
        <h3>Disclaimer:</h3>
            <p>
                FILEfox extension is a local file proxy for web applications running on Firefox.
            </p>
            <p>
                FILEfox gives JavaScript-based web applications a civilized way to request manual user permission to load specific local files for local analysis, in a fashion similar to the traditional HTML form file upload.
                This eliminates the traditional requirement for the data to reside on remote web server(s), enabling better privacy, and further opening the door to desktop computing via web applications.
            </p>
            <p>
                FILEfox remains dormant until a web application requests permission to load a file.
                The request is relayed to the user, who can approve or deny.
                Permission can be granted to load only one file at a time, and each file is loaded only at the time the permission is granted.
            </p>
    
            <p>
                WARNING:  MALICIOUS WEB APPLICATIONS MAY UPLOAD ANY DATA AVAILABLE TO MALICIOUS SERVERS.
                <ul>
                    <li>USE THIS EXTENSION ONLY WITH THE WEBSITES YOU TRUST.</li>
                    <li>DO NOT USE THIS EXTENSION TO OPEN FILES FOR PHISHING WEBSITES.</li>
                    <li>DO NOT USE THIS EXTENSION TO OPEN FILES FOR WEBSITES THAT ALLOW ARBITRARY 3-RD PARTY JAVASCRIPT APPLICATIONS (SUCH AS FACEBOOK).</li>
                    <li>DO NOT USE THIS EXTENSION TO OPEN FILES CONTAINING DATA SUCH AS AUTHENTICATION, OPERATING SYSTEM CONFIGURATION, OR FINANCIAL INFORMATION.</li>
                </ul>
            </p>
            
            <p>
                ** RECOMMENDED FOR EXPERIENCED USERS ONLY **
            </p>
        </div>
        <div class='footer'>
            Copyright (c) 2010 Marat Nepomnyashy
            <br>
            Except where otherwise noted, this webpage is licensed under the
            <a href='http://creativecommons.org/licenses/by-sa/3.0/'>Creative Commons Attribution Share-Alike License version 3</a>.
        </div>
    </body>
</html>